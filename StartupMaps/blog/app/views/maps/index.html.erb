<!-- 
  HEBA
-->


<!DOCTYPE html>
<html>
<body>

<div class="header" style="height:10%;width:100%;background-color:#696969;">
<style>
h1 {text-align:center}
</style>
<body>
<h1 style="margin-bottom:0;">STARTUP MAPS</h1></div>
</body>


<!--
  HEBA
-->
<div id="map" style="height:80%;width:85%;float:left;">

<!-- 
  # Definition: The API of the map.
  # Input: Void.
  # Output: Google Map.
  # Author: Alia Tarek.
-->
<script src="//maps.google.com/maps/api/js?v=3.13&amp;sensor=false&amp;libraries=geometry" type="text/javascript"></script>
<script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js' type='text/javascript'></script>
</div>

<!-- 
  # Definition: The method that calls the markers.
  # Input: Name of the action and the id of the checkbox.
  # Output: The markers on the map.
  # Author: Alia Tarek.
-->

<script>
  var locationsMap = {};
  function toggleLocations(cb, url){
    var id = cb.id;
    if(!cb.checked){
      locationsMap[id] = [];
      buildMap();
      }
    else{
      $.ajax(url)
      .done(function(data) {
        locationsMap[id] = data;
        buildMap();
         if (locationsMap[id] == "")
        {alert("No result found")}
       })
      .fail(function(data) {
        alert.log( "error" );
      });
    }
  };
</script>


<!--
  HEBA
-->

<div id="menu" style="background-color:#696969;height:80%;width:15%;float:right;">
<!-- 
  # Definition: The checkboxes.
  # Input: The url of the actions.
  # Output: Checkboxes with the markers pictures.
  # Author: Alia Tarek.
-->
<!--
  HEBA
-->
<head>
<style>
h5 {text-align:center}
h5 {text-align:center}
h5 {text-align:center}
</style>
</head>

<body>

<h5><p><font color ="white"><label>  <img src="http://rideforclimate.com/nukes/all/images/blue.png">  <input type='checkbox' id='startups' onclick='toggleLocations(this, "/maps/1/show_startups");'>Startups</label></font></p><br></h5>
<h5><p><font color="white"><label><img src="http://rideforclimate.com/nukes/all/images/orange.png">   <input type='checkbox'id='investors' onclick='toggleLocations(this, "/maps/1/show_investors");'>Investors</label></font></p><br></h5>
<h5><p><font color="white"><label><img src="http://rideforclimate.com/nukes/all/images/green.png">  <input type='checkbox'id='services' onclick='toggleLocations(this, "/maps/1/show_services");'>Services</label></font></p></h5></h1></div>

</body>
</html>
<!--
  HEBA
-->
<div style='width: 100%;'>
  <div id="multi_markers" style='width: 100%; height: 500px;'></div>
</div> 

<!--
<div style='width: 800px;'>
  <div id="map" style='width: 800px; height: 400px;'></div>
</div>
-->

<!-- 
  # Definition: The Mapbuilder.
  # Input: Arrays of the markers.
  # Output: Map with the markers.
  # Author: Alia Tarek.
-->
 
<script type = "text/javascript">
  locationsMap["startups"] = [];
  locationsMap["investors"] = [];
  locationsMap["services"] = [];
  function buildMap (){
    handler = Gmaps.build('Google');
    handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
    var loc1 = locationsMap["startups"]
      .concat(locationsMap["investors"]);
    var loc2 = loc1.concat(locationsMap["services"]);
    markers = handler.addMarkers(loc2);
    handler.bounds.extendWith(markers);
    handler.fitMapToBounds();
    handler.getMap().setZoom(2);
  }); 
}
  buildMap();
</script>



 <!--
  HEBA
-->
</body>
</html>